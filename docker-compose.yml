version: "3"

services:
  app:
    image: mcr.microsoft.com/devcontainers/java:1-21-bullseye
    command: sleep infinity
    logging:
      driver: local
    volumes:
      - ".:/home/vscode/workspace:z"
      - ".gradle-cache:/home/vscode/.gradle:z"
      - ".vscode-server:/home/vscode/.vscode-server:z"

  db:
    image: oscarfonts/h2:2.1.210
    restart: always
    logging:
      driver: local
    environment:
      - H2_OPTIONS=-ifNotExists
    volumes:
      - ".h2:/opt/h2-data"
